---
title: 웹 클릭스트림 수집하기 1) 판 벌리기
description: 카프카랑 하둡 써서 할만한 프로젝트 계획하기
author: annmunju
date: 2025-05-20 17:50:00 +0900
categories: [Ingest-web-click-log, poc]
tags: [data, log, ingest]
pin: true
math: true
mermaid: true
comments: true
---

> 무직 백수는 카프카랑 하둡을 어떻게 혼자 실습하지..?

데엔 취업 준비하는 백수인 저는 카프카와 하둡을 직접 사용해서 익히는 경험을 하고 싶어 아주 작은 PoC를 만들어보려고 합니다.

GPT의 도움을 받아, 어떤 프로젝트가 좋을지 고민하였고 **실시간 웹 클릭스트림 로그 수집·저장·배치분석 파이프라인**으로 정하였습니다.

## 🎯 PoC 목표

- 개인 블로그를 통해 **클릭스트림 로그 데이터 생성**
- 해당 클릭 로그를 **Kafka에 실시간 전달**
- Kafka Connect HDFS 커넥터를 이용해 토픽에 쌓인 메시지를 일정 주기(ex. 5분)로 **HDFS에 파일로 저장**
- HDFS에 적재된 로그 파일을 대상으로 **배치 분석 실행**

## 사전 준비

1. [개인 블로그 먼저 준비](#1-%EA%B0%9C%EC%9D%B8-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0): github.io 블로그
2. [클릭 로그 받아줄 Ingest 서버 띄우기](#2-ingest-%EC%84%9C%EB%B2%84-%EB%A7%8C%EB%93%A4%EA%B8%B0)
3. [github pages 프론트에 JS 스니펫 심기](#3-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%90-js-%EC%8A%A4%EB%8B%88%ED%8E%AB-%EC%8B%AC%EA%B8%B0)

### 1. 개인 블로그 만들기

Jekyll 오픈소스 테마 chirpy를 포크해서 내 깃허브 페이지에 `annmunju.github.io` 레포지토리에 pages를 띄우는 과정입니다. 

#### 1.0 Jekyll 설치
M1 맥북을 사용하고 있어서 다음과 같은 게시글을 참고해 설치하였습니다.
[M1 mac - Jekyll blog 환경 세팅하기](https://danaing.github.io/etc/2022/03/14/M1-mac-jekyll-setting.html)

#### 1.1 테마 포크
[chirpy-starter 레포](https://github.com/cotes2020/chirpy-starter)에서 템플릿을 가져와 내 새로운 레포를 만듭니다.
![템플릿 레포 만들기](assets/img/posts/2025-05-21-판-벌리기/01.png)

#### 1.2 로컬 클론 및 _config.yml 수정
```bash
git clone git@github.com:annmunju/annmunju.github.io.git
cd annmunju.github.io
```
위와 같이 경로 이동 후 _config.yml 파일에 필요한 정보를 넣어줍니다.
- url 추가 (깃허브 경로)
- 언어 변경: _data/locales에 ko-KR.yml 파일 추가, _config.yml 파일에 lang을 ko-KR로 수정
- timezone을 Asia/Seoul로 반영
- title, tagline, description 추가
- 트위터 삭제, github 추가, email과 링크 경로 수정
- 프리뷰 아바타 이미지 추가 (social_preview_image)
- 댓글 기능 추가 (disqus 계정 생성)
```yml
comments:
    provider: disqus 
    disqus:
        shortname: annmunju-github-blog 
```

#### 1.3 github pages 설정
위의 chirpy-starter는 chripy라는 테마에서 가장 기본적인 사항만 적용된 버전입니다. 그렇지만 [github actions 메니페스토 파일](https://github.com/cotes2020/chirpy-starter/blob/main/.github/workflows/pages-deploy.yml)이 작성되어 있어서 github에 push하면 자동으로 배포(CD)할 수 있게 이미 설정되어 있습니다.

이를 적용하기 위해 다음과 같이 설정에 배포 소스를 github actions로 설정해줍니다.
![github pages 설정](assets/img/posts/2025-05-21-판-벌리기/02.png)

그럼 자동으로 main 혹은 master 브랜치로 push할 때 페이지가 배포 되는 것을 확인할 수 있습니다. 
![github actions](assets/img/posts/2025-05-21-판-벌리기/03.png)

### 2. Ingest 서버 만들기
다음은 

### 3. 프론트에 JS 스니펫 심기